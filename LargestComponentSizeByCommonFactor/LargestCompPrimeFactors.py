class Solution(object):
    def largestComponentSize(self, A):
        """
        :type A: List[int]
        :rtype: int
        """
        A.sort()
        pList = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199,211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293,307, 311, 313]
        fListOverall = []
        #pDict = {}
        #links = []
        #allLinks = []

        #for i in pList:
        #   pDict[i] = 0

        for i in A:
            fListCur = []
            for p in pList:
                if p > i:
                    break
                if i % p == 0:
                    fListCur.append(p)
            

            if len(fListCur) == 0 and i>316:
                fListCur.append(i)
                pList.append(i)
            if len(fListCur)>0:    
                fListCur.append(1)
                self.mergeListToOverall(fListCur,fListOverall)
        numOccurences = []
        for i in fListOverall:
            numOccurences.append(i[-1])
        return max(numOccurences)
        
    def mergeListToOverall(self, curList, overallList):
        mergeList = []
        for i in curList[:-1]:
            pos = 0
            for fList in overallList:
                if i in fList:
                    if pos not in mergeList:
                        mergeList.append(pos)
                pos+=1
        
        numOcc = curList[-1]
        if len(mergeList)>0:
            del(curList[-1])
        for i in mergeList:
            for j in overallList[i][:-1]:
                if j not in curList:
                    curList.append(j)
            numOcc+=overallList[i][-1]
        if len(mergeList)>0:
            curList.append(numOcc)
        mergeList.sort()
        deleted = 0
        for i in mergeList:
            del(overallList[i-deleted])
            deleted+=1
        
        overallList.append(curList)

print(Solution().largestComponentSize([2048,4097,6146,6486,7,10,6155,2061,16,4113,6163,2068,2069,24,2073,26,29,5125,34,6180,8230,40,6185,6187,6190,9617,4151,2104,2107,4158,5813,64,8257,6212,8262,9004,8265,2122,4174,4177,6499,4180,88,89,6235,8286,4191,96,4195,2049,2150,2153,5459,6252,4116,8321,3465,8328,5129,8332,8335,8338,8342,6296,153,4250,8348,4255,2210,619,2212,8357,2215,8360,8361,711,173,8904,182,8375,6329,4282,6333,190,4287,4291,4293,2247,200,6349,2254,4306,4576,2266,4316,2269,2271,6369,4323,6182,230,4328,6381,238,2288,8915,4340,9419,4345,4347,256,2091,8456,266,2315,6413,4366,1100,8467,46,8471,7556,6427,4382,6431,2336,2338,6436,6437,6438,3121,2346,8491,8499,2357,4406,9609,6456,313,6462,2367,8512,8514,4419,2374,2103,8525,4430,8529,1763,8532,4438,2391,8538,2395,350,8544,354,4451,4453,4454,2407,8552,6506,8555,4460,6509,2417,2421,2422,375,4473,4477,8574,6549,4482,4483,8580,4486,3137,2442,8587,6541,9965,400,2449,6546,1091,405,4502,408,8260,6555,4509,2468,421,8614,6629,6573,6574,4528,2803,6580,3145,756,2538,452,2129,455,6138,2505,2509,6606,463,8656,467,220,471,474,6619,477,4574,2528,6625,4578,4518,4583,1380,4586,4588,7250,8686,496,221,5886,5546,4606,4607,5888,6659,699,4614,4616,6667,6668,2574,2575,8280,3973,2585,540,8733,2591,2480,399,6694,554,8754,8755,567,2617,4667,6922,6719,577,4876,4683,8781,8885,4695,8793,7951,2652,9772,8803,6756,6757,2663,4712,2665,8810,4715,2672,628,4725,630,631,8825,637,8831,641,8835,644,646,108,2698,6795,4751,656,792,658,8852,3866,674,675,2341,683,8876,4783,6834,692,6942,6838,695,6483,6943,700,6845,3092,6848,5579,8900,801,712,2761,6775,6861,6863,4817,1456,4821,5957,9337,730,4827,8925,6878,2784,8933,8938,8940,2797,750,752,808,1491,4852,4859,6908,2858,2685,2818,4867,9686,4663,778,6924,4877,8978,8984,8986,8987,1583,8990,4895,6944,8993,2850,803,6950,4904,9002,6955,777,814,4911,6960,7304,9010,9011,6964,9013,6974,831,9025,9028,4933,9031,6984,2889,9034,1460,1801,9037,2895,2898,9043,4948,4949,4950,4954,9055,7008,2915,2917,4966,9063,2920,4971,2924,9073,4979,4981,489,4985,7036,893,895,7804,898,2947,900,902,904,5002,5003,908,7053,2959,912,2962,3566,7064,2972,9117,927,2976,2977,931,7076,2981,9133,7325,7088,9141,5050,5053,6033,3011,9156,8761,3019,5897,973,7119,7121,7122,9648,7125,7128,5090,7675,5092,3046,1000,1002,9195,5103,1010,6995,5108,3061,7158,5113,9213,9218,1028,854,3078,513,3081,9230,3089,5138,3091,1044,1047,3101,3103,3105,1059,5157,1062,1201,7208,7605,520,3122,9737,3128,1082,3132,7230,9279,7233,9283,7237,3143,9289,9290,2231,5196,1103,3153,9298,867,9300,7255,5208,8719,6330,7263,1120,7267,3174,1128,5226,1131,9324,3183,9331,5236,7285,9336,5241,5971,1215,5903,5251,3205,1160,5996,2258,9361,3220,1902,3224,5273,5274,1181,1182,7328,5282,244,3240,3244,1197,3249,9516,7027,7349,3109,3262,9407,1217,5323,3269,1223,5320,1225,518,8055,9420,1229,3281,5332,9429,3286,1239,7386,3291,7388,1246,7392,9442,3299,7396,9449,9450,3308,1261,9454,1267,3316,7416,7419,5372,7381,9999,1283,7428,9430,3335,5385,5389,3344,5393,7442,5396,4523,3351,3352,7451,5404,1925,1312,1584,3363,1319,1321,1322,1323,3372,5421,2840,3375,5000,9526,9527,9528,9529,5436,5438,9536,1345,9539,9540,9782,7494,8759,9549,3406,9555,7509,7511,5469,7518,5472,3425,3428,8081,5483,1751,1391,9586,3443,3444,1398,3388,5496,183,5502,1407,5504,3457,5508,6721,7561,7685,5912,4333,3472,2968,5525,1275,3480,3483,7584,3490,3491,7588,8436,7591,9640,5020,1450,5703,5548,5550,5552,5553,6484,3508,9653,6729,1465,7613,7614,1471,5568,9671,9673,8710,7627,1484,7634,4003,5588,1494,1495,7640,3547,3555,391,1073,3558,3559,5609,3564,9710,9714,7667,7669,7672,7674,9723,1533,7679,9732,1541,6939,7689,9738,5645,1551,3602,7699,1557,9190,5658,943,5666,9763,7718,9767,9769,9770,5675,3628,9775,7728,1588,7734,3639,1592,3641,5691,7742,9824,5699,1606,7751,1608,5708,5713,5716,7772,7773,9823,1632,5729,1350,1637,1980,3691,9846,5752,5753,5754,1660,5757,7807,3712,3714,5763,7813,7814,1675,5773,9873,5778,9878,3739,5789,8133,7217,5803,5804,3760,5809,9907,2334,7866,8479,9918,9504,3782,5834,3787,9934,1743,7888,5841,3794,5991,3796,5847,1752,5849,1754,5071,3706,3806,293,3810,5859,4390,1768,9961,295,3821,8829,7921,9973,9743,3833,1790,9983,1792,3841,7468,5900,3855,3858,7955,3861,3864,7962,1629,7971,7976,1834,4061,1425,7985,3892,3894,3895,7993,5946,5948,7999,3905,5954,1859,6063,5961,5963,5964,8015,6900,3923,1878,1882,3931,3936,3941,8038,4753,5993,2023,3948,7826,3950,8047,8048,3953,3956,3959,3337,3969,3734,1928,6025,3985,8082,8084,3989,1943,1944,883,1949,5787,6052,1957,6054,4010,4011,1964,9885,6217,4021,4028,475,4031,8128,1986,3403,1988,3062,6088,1994,1998,1357,4049,4051,6100,2007,4057,8523,4059,3272,8186,6112,2863,2020,4071,4072,4074,4075,2029,5117,8251,8178,8179,1227,6136,340,2042,4091,2864]))